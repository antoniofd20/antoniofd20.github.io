<!DOCTYPE html>
<html lang="es">
  <head>
    
    <!-- Metadatos básicos y codificación -->
    <!-- ================================================== -->
    <meta http-equiv="Content-Type" content="text/html; charset=utf8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">


    <!-- Metadatos específicos para móvil -->
    <!-- ================================================== -->
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">


    <!-- Metadatos para posicionamiento en buscadores -->
    <!-- ================================================== -->
    <meta name="author" content="Raymundo Antonio Flores D.">
    <meta name="copyright" content="RAFD" />
    <!--
    <link rel="canonical" href="http://www.erp-inspecciones-ttsa.com.mx">
    <link rel="shortlink" href="http://www.erp-inspecciones-ttsa.com.mx">
    -->


    <!-- Iconos para página y dispositivos móviles -->
    <!-- ================================================== -->
    <link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />
    <meta name="msapplication-TileImage" content="favicon.ico" />
    <meta name="msapplication-TileColor" content="#488199" />
    <link rel="apple-touch-icon" sizes="72x72" href="/img/ico_empresa.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/img/ico_empresa.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/img/ico_empresa.png">
    <link rel="apple-touch-icon" sizes="244x244" href="/img/ico_empresa.png">


    <!-- BOOTSTRAP -->
    <!-- ================================================== -->
    <!-- <link rel="stylesheet" href="/librerias/bootstrap/bootstrap.min.css"> -->
    <!-- <link rel="stylesheet" href="/librerias/bootstrap/bootstrap-theme.min.css"> -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css">


    <!-- FONTAWESOME -->
    <!-- ================================================== -->
    <!-- <link rel="stylesheet" href="/librerias/fontawesome/css/all.min.css"> -->
    <!-- <link rel="stylesheet" href="/librerias/fontawesome/css/fontawesome.min.css"> -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.0/css/all.min.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">


    <!-- Latest compiled and minified JavaScript -->
    <!-- ================================================== -->
    <!-- <script src="/librerias/jquery/jquery.min.js"></script> -->
    <!-- <script src="/librerias/bootstrap/bootstrap.min.js"></script> -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>


    <!-- Estilos CSS -->
    <!-- ================================================== -->
    <link rel="stylesheet" type="text/css" href="../css/scroll_h.css" />


    <!-- Libreria GSAP para movimientos -->
    <!-- ================================================== -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.7.0/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.7.0/ScrollTrigger.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.7.1/ScrollToPlugin.min.js



    "></script>


    <!-- Titulo -->
    <!-- ================================================== -->
    <title>Scroll Horizontal</title>
  </head>
  <body class="body">
    <div id="page" class="site">
        
        <header id="" class="header" role="banner">
          <ul class="navegador">
            <li><a href="#intro" class="anchor">Inicio</a></li>
            <li><a href="#panel-1" class="anchor">Panel 1</a></li>
            <li><a href="#panel-2" class="anchor">Panel 2</a></li>
            <li><a href="#panel-3" class="anchor">Panel 3</a></li>
            <li><a href="#panel-4" class="anchor">Panel 4</a></li>
            <li><a href="#panel-5" class="anchor">Panel 5</a></li>
            <li><a href="#final" class="anchor">Final</a></li>
          </ul>
        </header>
        
      
        <main id="content">
      
          <!-- SECCION INICIAL -->
          <section id="intro" class="full-screen intro">
            <h1>Inicio</h1>
          </section>
      
          <!-- INICIAN LOS PANELES LATERALES -->
          <section id="panels" class="paneles">
            <!-- TODO LO QUE ESTE DENTRO DE ESTE DIV VA A CORRER DE FORMA HORIZONTAL -->
            <div id="panels-container" style="width: 500%;" class="contenedor-paneles"> <!-- ACTUALIZAR ANCHO DEPENDIENDO DEL NUMERO DE SECCIONES -->
              
              <!-- SEPARAR TODOS LOS CONTENEDORES POR ARTICULOS-->
              <article id="panel-1" class="panel full-screen panel-1">
                <div class="container">
                  <!-- CONTENIDO DEL PANEL -->
                  <h2>Panel 1</h2>
                  
                  <p class="step-description">
                    Lorem ipsum dolor sit, amet consectetur adipisicing elit. Quaerat vitae tempore odit deleniti corporis molestias, perferendis omnis labore ab fuga reprehenderit dicta est repellendus expedita ullam numquam cum doloremque, voluptatum amet ipsum accusantium impedit dolores. Error molestiae obcaecati animi laboriosam cum quo ex neque, repellat maiores? Repudiandae perspiciatis velit ab, nulla harum rem mollitia cumque provident dolorem, facere maxime explicabo, at adipisci officia quae non earum officiis excepturi aspernatur suscipit nemo quidem? Aliquam autem quas iure, laudantium adipisci quos iste perspiciatis necessitatibus odit dolor commodi praesentium doloribus delectus nam quisquam soluta accusantium ipsum eveniet expedita! Dicta totam in, non necessitatibus, illo fugiat vero voluptatem officia repellendus cumque dolor. Ratione ab laudantium veniam perferendis! Quibusdam tempora fugiat possimus odio earum ducimus obcaecati libero quae, totam nobis quas cum quam, minus natus, veniam itaque inventore consequuntur dolore est? Labore repudiandae consequatur quis, dolores saepe incidunt beatae molestias. Recusandae, quos obcaecati quod hic dolore illo. Quas, id eum! Quisquam fugiat nostrum beatae! Impedit facere mollitia natus quisquam quos, quaerat delectus reprehenderit at voluptas fugit magnam nulla id necessitatibus adipisci ipsam consequatur modi sit dicta officia suscipit culpa pariatur eius. Eum, delectus, facere maiores soluta reiciendis quam harum, ipsa facilis accusantium vel dicta numquam!
                  </p>
                </div>
              </article>

              <article id="panel-2" class="panel full-screen panel-2">
                <div class="container">
                  <h2>Panel 2</h2>
  
                  <p class="step-description">
                    Lorem Ipsum is simply dummy text of the printing and typesetting industry. Including versions of Lorem Ipsum.
                  </p>
                </div>
              </article>


              <article id="panel-3" class="panel full-screen panel-3">
                <div class="container">
                  <h2>Panel 3</h2>
  
                  <p class="step-description">
                    Lorem Ipsum is simply dummy text of the printing and typesetting industry. Including versions of Lorem Ipsum.
                  </p>
                </div>
              </article>


              <article id="panel-4" class="panel full-screen panel-4">
                <div class="container">
                  <h2>Panel 4</h2>
  
                  <p class="step-description">
                    Lorem Ipsum is simply dummy text of the printing and typesetting industry. Including versions of Lorem Ipsum.
                  </p>
                </div>
              </article>


              <article id="panel-5" class="panel full-screen panel-5">
                <div class="container">
                  <h2>Panel 5</h2>
  
                  <p class="step-description">
                    Lorem Ipsum is simply dummy text of the printing and typesetting industry. Including versions of Lorem Ipsum.
                  </p>
                </div>
              </article>

            </div>
          </section>
      
          <section id="final" class="full-screen panel-final">
              <h1>Final</h1>
          </section>
      
        </main>
      
      </div>

      <progress max="100" value="0" id="progress"></progress>

    <script>
      gsap.registerPlugin(ScrollTrigger, ScrollToPlugin);

      window. onscroll = function() {
        var y = window. scrollY;
        console. log(y);
      }

      let numero = window.scrollY.max
      console.log(numero);

      console.log(window.scrollY.end);

      gsap.to('progress', {
        value: 100,
        ease: 'none',
        scrollTrigger: {
          trigger: '#progress',
          scrub: 0.3,
          markers: true,
          start: 0,
          //end: 6222
          end: 100
        }
      })


      ScrollTrigger.defaults({
        toggleActions: "restart pause resume pause"
      });

      /* Main navigation */
      const panelsSection = document.querySelector("#panels");
      const panelsContainer = document.querySelector("#panels-container");
      document.querySelectorAll(".anchor").forEach(anchor => {
        anchor.addEventListener("click", function(e) {
          e.preventDefault();

          const targetElem = document.querySelector(e.target.getAttribute("href"));
          if(targetElem && panelsContainer.isSameNode(targetElem.parentElement)) {
            const containerOffset = panelsSection.offsetTop + targetElem.offsetLeft;

            gsap.to(window, {
              scrollTo: {
                y: containerOffset,
                autoKill: false
              },
              duration: 1
            });
          } else {
            gsap.to(window, {
              scrollTo: {
                y: targetElem,
                autoKill: false
              },
              duration: 1
            });
          }
        });
      });

      /* Panels */
      const panels = gsap.utils.toArray("#panels-container .panel");
      gsap.to(panels, {
        xPercent: -100 * ( panels.length - 1 ),
        ease: "none",
        scrollTrigger: {
          trigger: "#panels-container",
          pin: true,
          start: "top top",
          scrub: 1,
          snap: {
            snapTo: 1 / ( panels.length - 1 ),
            duration: {min: 0.1, max: 0.1}
          },
          end: () => "+=" + (panelsContainer.offsetWidth - innerWidth)
        }
      });
    </script>
  </body>
</html>
